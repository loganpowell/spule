<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>registerCMD - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-constants.html">constants</a></li><li><a href="module-registerCMD.html">registerCMD</a></li><li><a href="module-spule.html">spule</a></li><li><a href="module-Streams.html">Streams</a></li></ul><h3>Global</h3><ul><li><a href="global.html#__HREF_PUSHSTATE_DOM">__HREF_PUSHSTATE_DOM</a></li><li><a href="global.html#__NOTIFY_PRERENDER_DOM">__NOTIFY_PRERENDER_DOM</a></li><li><a href="global.html#__SET_LINK_ATTRS_DOM">__SET_LINK_ATTRS_DOM</a></li><li><a href="global.html#__URL__ROUTE">__URL__ROUTE</a></li><li><a href="global.html#__URL_DOM__ROUTE">__URL_DOM__ROUTE</a></li><li><a href="global.html#diff_keys">diff_keys</a></li><li><a href="global.html#err_str">err_str</a></li><li><a href="global.html#FLIPFirst">FLIPFirst</a></li><li><a href="global.html#FLIPLastInvertPlay">FLIPLastInvertPlay</a></li><li><a href="global.html#fURL">fURL</a></li><li><a href="global.html#HURLer">HURLer</a></li><li><a href="global.html#set$$tate">set$$tate</a></li><li><a href="global.html#state">state</a></li><li><a href="global.html#stringify_type">stringify_type</a></li><li><a href="global.html#stringify_w_functions">stringify_w_functions</a></li><li><a href="global.html#trace$">trace$</a></li><li><a href="global.html#unfURL">unfURL</a></li><li><a href="global.html#x_key_ERR">x_key_ERR</a></li><li><a href="global.html#zIndex">zIndex</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">registerCMD</h1>
    

    




<section>

<header>
    
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".registerRouterDOM"><span class="type-signature">(static, constant) </span>registerRouterDOM<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="register_primaries.js.html">register/primaries.js</a>, <a href="register_primaries.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>expects payload of</p>
<pre class="prettyprint source"><code>{ target: { location: { href } }, currentTarget }
</code></pre>
</div>








        
            
<h4 class="name" id="~registered"><span class="type-signature">(inner) </span>registered<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="register_primaries.js.html">register/primaries.js</a>, <a href="register_primaries.js.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <h2><code>registerCMD</code></h2>
<p>Takes a Command object with some additional information
and returns a Command usable in a Task or as-is. This
also serves the additional benefit of giving the user a
constant to use instead of making any typos in keys
during use.</p>
<h3>Destructuring Behavior</h3>
<p>During a <code>sub$</code> registration, the keys in the Command
object are used to determine the signature of incoming
Commands. In order to reduce the amount of boilerplate
for Commands that only contain the <code>sub$</code> and <code>args</code> key,
the <code>args</code> key is
<a href="https://github.com/thi-ng/umbrella/blob/master/packages/transducers/src/xform/pluck.ts">pluck</a>ed
from the incoming Commands. This pulls the <code>args</code> value
out from the incoming Command objects to be used directly
(without the need for dstructuring).</p>
<h3>Example</h3>
<pre class="prettyprint source lang-js"><code>import { registerCMD, run$ } from &quot;üçé&quot;

const cmd_pathless = {
  sub$: &quot;PATHLESS&quot;,
  args: { static: &quot;payload&quot; }
}

const pathless_handler = x => console.log(&quot;pathless ->&quot;, x)

const CMD_PATHLESS = registerCMD(cmd_pathless, pathless_handler)

run$.next(CMD_PATHLESS) // üèÉ
// pathless -> { static: 'payload' }

const cmd_path = {
  sub$: &quot;PATH&quot;,
  args: { static: &quot;payload&quot; },
  path: [&quot;default&quot;, &quot;path&quot;]
}

const path_handler = x => console.log(&quot;path ->&quot;, x)

const CMD_PATH = registerCMD(cmd_path, path_handler)

run$.next(CMD_PATH) // üèÉ
// path -> { args: { static: 'payload' }, path: [ 'default', 'path' ] }

const test_pathless = {
  sub$: &quot;PATHLESS&quot;,
  args: &quot;üî•&quot;
}

run$.next(test_pathless) // üèÉ
// pathless -> &quot;üî•&quot;
// as you can see, the Command args have been plucked out

const test_path = {
  sub$: &quot;PATH&quot;,
  args: &quot;üåä&quot;,
  path: [&quot;new&quot;, &quot;path&quot;]
}

run$.next(test_path) // üèÉ
// path -> { args: 'üåä', path: [ 'new', 'path' ] }
// only the sub$ entry has been removed leaving the rest

// NOW: Let's stick these into a Task
let TASK_1 = [
  { ...CMD_PATH, path: &quot;overwritten&quot; },
  CMD_PATHLESS,
  { ...test_path, args: &quot;üçù&quot; }
]
run$.next(TASK_1)
// path -> { args: { static: 'payload' }, path: 'overwritten' }
// pathless -> { static: 'payload' }
// path -> { args: 'üçù', path: [ 'new', 'path' ] }

</code></pre>
</div>








        
    

    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Sun Feb 02 2020 21:34:51 GMT-0500 (Eastern Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>