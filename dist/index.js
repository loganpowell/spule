(function () {function gd(a){return a&&a.__esModule?{d:a.default}:{d:a}}function m(dest,source){Object.keys(source).forEach(function(key){if(key==="default"||key==="__esModule"){return}Object.defineProperty(dest,key,{enumerable:true,get:function get(){return source[key]}})});return dest}var r={};var T={};var ja={};function Lb(r,$){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);$&&(i=i.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),e.push.apply(e,i)}return e}function Kc(r){for(var $=1;$<arguments.length;$++){var e=null!=arguments[$]?arguments[$]:{};$%2?Lb(Object(e),!0).forEach(function($){b(r,$,e[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Lb(Object(e)).forEach(function($){Object.defineProperty(r,$,Object.getOwnPropertyDescriptor(e,$))})}return r}function Wc(r,$,e,i,t,o,n){try{var a=r[o](n),p=a.value}catch(x){return void e(x)}a.done?$(p):Promise.resolve(p).then(i,t)}function $d(r){return function(){var $=this,e=arguments;return new Promise(function(i,t){var o=r.apply($,e);function n(r){Wc(o,i,t,n,a,"next",r)}function a(r){Wc(o,i,t,n,a,"throw",r)}n(void 0)})}}function be(r){return Of(r)||Qf(r)||ce()}function ce(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Qf(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function Of(r){if(Array.isArray(r)){for(var $=0,e=new Array(r.length);$<r.length;$++)e[$]=r[$];return e}}function Tc(r,$){return Lf(r)||Mf(r,$)||Nf()}function Nf(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Mf(r,$){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var e=[],i=!0,t=!1,o=void 0;try{for(var n,a=r[Symbol.iterator]();!(i=(n=a.next()).done)&&(e.push(n.value),!$||e.length!==$);i=!0);}catch(p){t=!0,o=p}finally{try{i||null==a.return||a.return()}finally{if(t)throw o}}return e}}function Lf(r){if(Array.isArray(r))return r}function b(r,$,e){return $ in r?Object.defineProperty(r,$,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[$]=e,r}var Kf,Jf,If,Hf;const d=Symbol();const nc=()=>{};var Gf,pc;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(pc||(Gf=pc={},Gf));const Ff=Object.freeze({level:pc.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const Ef=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let l of r)Object.defineProperty(p,l,{value:t[l],enumerable:t.propertyIsEnumerable(l)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};const Bf=Ef({addWatch(i,t){return this._watches=this._watches||{},!this._watches[i]&&(this._watches[i]=t,!0)},removeWatch(i){if(this._watches)return!!this._watches[i]&&(delete this._watches[i],!0)},notifyWatches(i,t){if(!this._watches)return;const e=this._watches;for(let h in e)e[h](h,i,t)}});(function($){$[$.IDLE=0]="IDLE",$[$.ACTIVE=1]="ACTIVE",$[$.DONE=2]="DONE",$[$.ERROR=3]="ERROR",$[$.DISABLED=4]="DISABLED"})(If||(Kf=If={},Kf)),function($){$[$.NEVER=0]="NEVER",$[$.FIRST=1]="FIRST",$[$.LAST=2]="LAST"}(Hf||(Jf=Hf={},Jf));let u=Ff;function*Af($,r){const e=Ra($)(uc()),o=e[1],t=e[2];for(let i of r){const $=t([],i);if(Ca($))return void(yield*Q(o($.deref())));$.length&&(yield*$)}yield*Q(o([]))}function*Uc($,r){const e=Ra($)([nc,nc,($,r)=>r])[2];for(let o of r){let $=e(d,o);if(Ca($))return void(($=Q($.deref()))!==d&&(yield $));$!==d&&(yield $)}}const F=i=>"function"==typeof i;const cb=(e,n)=>null!=e&&"function"==typeof e[n];const Ga=Array.isArray;const Jb=t=>"string"==typeof t;const zf=e=>null!=e&&"function"==typeof e[Symbol.iterator];const yf=$=>$ instanceof Map;var mb={};const xf=()=>"object"==typeof mb&&"object"==typeof mb.versions&&void 0!==mb.versions.node;const ec=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const Fa=t=>null!==t&&"object"==typeof t;const hc=Object.getPrototypeOf,K=$=>{let t;return null!=$&&"object"==typeof $&&(null===(t=hc($))||null===hc(t))};const mc=s=>s instanceof Promise;const Ra=r=>cb(r,"xform")?r.xform():r;class Da{constructor(e){this.value=e}deref(){return this.value}}const Ca=e=>e instanceof Da;const vf=e=>e instanceof Da?e:new Da(e);const Q=e=>e instanceof Da?e.deref():e;function uc($){return $?[...$]:mf(()=>[],($,r)=>($.push(r),$))}const Ba=(r,o=r=>void 0!==r?": "+r:"")=>class extends Error{constructor(e){super(r(e)+o(e))}};const uf=Ba(()=>"illegal argument(s)");const tf=r=>{throw new uf(r)};const sf=Ba(()=>"illegal arity");const Ec=r=>{throw new sf(r)};const of=Ba(()=>"illegal state");const Jc=r=>{throw new of(r)};const nf=Ba(()=>"unsupported operation");const qb=r=>{throw new nf(r)};const mf=(e,r)=>[e,e=>e,r];const lf=($,r,e=Uc)=>{const o=r.length-1;return zf(r[o])?r.length>1?e($.apply(null,r.slice(0,o)),r[o]):e($(),r[0]):void 0};function z(r,$){return $?Uc(z(r),$):$=>{const e=$[2];return kf($,($,p)=>e($,r(p)))}}const kf=(o,$)=>[o[0],o[1],$];function _c(...e){let[a,r,$,t,o,c,p,n,s,u]=e;switch(e.length){case 0:Ec(0);case 1:return a;case 2:return(...e)=>a(r(...e));case 3:return(...e)=>a(r($(...e)));case 4:return(...e)=>a(r($(t(...e))));case 5:return(...e)=>a(r($(t(o(...e)))));case 6:return(...e)=>a(r($(t(o(c(...e))))));case 7:return(...e)=>a(r($(t(o(c(p(...e)))))));case 8:return(...e)=>a(r($(t(o(c(p(n(...e))))))));case 9:return(...e)=>a(r($(t(o(c(p(n(s(...e)))))))));case 10:default:const B=(...e)=>a(r($(t(o(c(p(n(s(u(...e))))))))));return 10===e.length?B:_c(B,...e.slice(10));}}const ad=Object.getPrototypeOf({}),p=(e,t)=>{let n;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(n=Object.getPrototypeOf(e))&&n!==ad||null!=(n=Object.getPrototypeOf(t))&&n!==ad?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?sb(e,t):e instanceof Set&&t instanceof Set?tb(e,t):e instanceof Map&&t instanceof Map?wb(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:xb(e,t)))};const sb=(e,t,n=p)=>{let $=e.length;if($===t.length)for(;--$>=0&&n(e[$],t[$]););return $<0};const tb=(e,t,n=p)=>e.size===t.size&&n([...e.keys()].sort(),[...t.keys()].sort());const wb=(e,t,n=p)=>e.size===t.size&&n([...e].sort(),[...t].sort());const xb=(e,t,n=p)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let $ in e)if(!t.hasOwnProperty($)||!n(e[$],t[$]))return!1;return!0};const yb=e=>e[e.length-1];function Gb(...r){return r=r.map(Ra),_c.apply(null,r)}function Hb(...e){return e.length>2&&lf(Hb,e,Af)||(([$,r,c])=>{const[t,n,o]=e[0];let u=e.length>1&&null!=e[1]?e[1]:t();return[$,e=>{let $=n(u);return $!==u&&(e=Q(c(e,$))),u=$,r(e)},(e,$)=>(u=o(u,$),Ca(u)?vf(c(e,u.deref())):c(e,u))]})}let jf=0;const Za=()=>jf++;const x=($,e)=>e&&e.id?e:Object.assign(Object.assign({},e),{id:$+"-"+Za()});const Ob=(t,s)=>new L(t,s);class L{constructor(t,s={}){this.state=0,this.parent=s.parent,this.closeIn=void 0!==s.closeIn?s.closeIn:2,this.closeOut=void 0!==s.closeOut?s.closeOut:2,this.cacheLast=!1!==s.cache,this.id=s.id||`sub-${Za()}`,this.last=d,this.subs=[],t&&this.subs.push(t),s.xform&&(this.xform=s.xform(uc()))}deref(){return this.last!==d?this.last:void 0}getState(){return this.state}subscribe(...t){let s;this.ensureState();let e=t.length>1&&K(yb(t))?Object.assign({},t.pop()):{};switch(t.length){case 1:F(t[0])?(e.xform=t[0],!e.id&&(e.id=`xform-${Za()}`)):s=t[0];break;case 2:s=t[0],e.xform=t[1];break;default:Ec(t.length);}return cb(s,"subscribe")?s.parent=this:s=Ob(s,Object.assign({parent:this},e)),this.last!==d&&s.next(this.last),this.addWrapped(s)}subscribeAll(...t){const s=[];for(let e of t)s.push(this.subscribe(e));return s}transform(...t){const s=t.length-1;return K(t[s])?this.subscribe(Gb(...t.slice(0,s)),t[s]):this.subscribe(Gb(...t))}unsubscribe(t){if(u.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=2,this.cleanup(),t}if(this.subs){u.debug(this.id,"unsub child",t.id);const s=this.subs.indexOf(t);if(s>=0)return this.subs.splice(s,1),(1===this.closeOut||!this.subs.length&&0!==this.closeOut)&&this.unsubscribe(),!0}return!1}next(t){if(this.state<2)if(this.xform){const s=this.xform[2]([],t),e=Q(s),i=e.length;for(let t=0;t<i;t++)this.dispatch(e[t]);Ca(s)&&this.done()}else this.dispatch(t)}done(){if(u.debug(this.id,"entering done()"),this.state<2){if(this.xform){const t=this.xform[1]([]),s=Q(t),e=s.length;for(let i=0;i<e;i++)this.dispatch(s[i])}this.state=2;for(let s of[...this.subs])try{s.done&&s.done()}catch(t){s.error?s.error(t):this.error(t)}this.unsubscribe(),u.debug(this.id,"exiting done()")}}error(t){this.state=3;let s=!1;if(this.subs&&this.subs.length)for(let e of this.subs.slice())e.error&&(e.error(t),s=!0);s||(u.warn(this.id,"unhandled error:",t),this.parent&&(u.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=3))}addWrapped(t){return this.subs.push(t),this.state=1,t}dispatch(t){this.cacheLast&&(this.last=t);const s=this.subs;let e;if(1===s.length){e=s[0];try{e.next&&e.next(t)}catch(i){e.error?e.error(i):this.error(i)}}else for(let r=s.length;--r>=0;){e=s[r];try{e.next&&e.next(t)}catch(i){e.error?e.error(i):this.error(i)}}}ensureState(){this.state>=2&&Jc(`operation not allowed in state ${this.state}`)}cleanup(){u.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}function Vb(o,$){for(let e of $)o.delete(e);return o}const hf=(e,r)=>{if(e===r)return!0;if(!(r instanceof Map)||e.size!==r.size)return!1;for(let t of e.entries())if(!p(r.get(t[0]),t[1]))return!1;return!0};const ff=(e,r)=>{if(e===r)return!0;if(!(r instanceof Set)||e.size!==r.size)return!1;for(let t of e.keys())if(!r.has(t))return!1;return!0};function $b($,e){if(yf($))for(let t of e)$.set(t[0],t[1]);else for(let t of e)$.add(t);return $}const E=new WeakMap,o=r=>E.get(r).vals;class xa extends Set{constructor(r,e={}){super(),E.set(this,{equiv:e.equiv||p,vals:[]}),r&&this.into(r)}*[Symbol.iterator](){yield*o(this)}get[Symbol.species](){return xa}get[Symbol.toStringTag](){return"ArraySet"}get size(){return o(this).length}copy(){const r=E.get(this),e=new xa(null,{equiv:r.equiv});return E.get(e).vals=r.vals.slice(),e}empty(){return new xa(null,this.opts())}clear(){o(this).length=0}first(){if(this.size)return o(this)[0]}add(r){return!this.has(r)&&o(this).push(r),this}into(r){return $b(this,r)}has(r){return this.get(r,d)!==d}get(r,e){const t=E.get(this),$=t.equiv,i=t.vals;for(let s=i.length;--s>=0;)if($(i[s],r))return i[s];return e}delete(r){const e=E.get(this),t=e.equiv,$=e.vals;for(let i=$.length;--i>=0;)if(t($[i],r))return $.splice(i,1),!0;return!1}disj(r){return Vb(this,r)}equiv(r){return ff(this,r)}forEach(r,e){const t=o(this);for(let $=t.length;--$>=0;){const i=t[$];r.call(e,i,i,this)}}*entries(){for(let r of o(this))yield[r,r]}*keys(){yield*o(this)}*values(){yield*o(this)}opts(){return{equiv:E.get(this).equiv}}}const i=new WeakMap,va=e=>i.get(e).map;class W extends Map{static fromObject(e,t){const r=new W(null,Object.assign({equiv:(e,t)=>e===t},t));for(let $ in e)e.hasOwnProperty($)&&r.set($,e[$]);return r}constructor(e,t){super();const r=Object.assign({equiv:p,keys:xa},t);i.set(this,{keys:new r.keys(null,{equiv:r.equiv}),map:new Map,opts:r}),e&&this.into(e)}[Symbol.iterator](){return this.entries()}get[Symbol.species](){return W}get[Symbol.toStringTag](){return"EquivMap"}get size(){return i.get(this).keys.size}clear(){const e=i.get(this);e.keys.clear(),e.map.clear()}empty(){return new W(null,i.get(this).opts)}copy(){const e=i.get(this),t=new W;return i.set(t,{keys:e.keys.copy(),map:new Map(e.map),opts:e.opts}),t}equiv(e){return hf(this,e)}delete(e){const t=i.get(this);return(e=t.keys.get(e,d))!==d&&(t.map.delete(e),t.keys.delete(e),!0)}dissoc(e){return Vb(this,e)}forEach(e,t){for(let r of va(this))e.call(t,r[1],r[0],this)}get(e,t){const r=i.get(this);return(e=r.keys.get(e,d))!==d?r.map.get(e):t}has(e){return i.get(this).keys.has(e)}set(e,t){const r=i.get(this),$=r.keys.get(e,d);return $!==d?r.map.set($,t):(r.keys.add(e),r.map.set(e,t)),this}into(e){return $b(this,e)}entries(){return va(this).entries()}keys(){return va(this).keys()}values(){return va(this).values()}opts(){return i.get(this).opts}}const jc=i=>new ef(i);class ef extends L{constructor(i){i=i||{},super(void 0,x("pubsub",{xform:i.xform})),this.topicfn=i.topic,this.topics=new W(void 0,{equiv:i.equiv})}subscribe(){return qb("use subscribeTopic() instead")}transform(){return qb("use subscribeTopic() instead")}subscribeTopic(i,r,s){let t=this.topics.get(i);return!t&&this.topics.set(i,t=Ob()),t.subscribe(r,s)}unsubscribeTopic(i,r){const s=this.topics.get(i);return!!s&&s.unsubscribe(r)}unsubscribe(i){if(!i){for(let i of this.topics.values())i.unsubscribe();return this.topics.clear(),super.unsubscribe()}return qb()}done(){for(let i of this.topics.values())i.done();super.done()}dispatch(i){u.debug(this.id,"dispatch",i);const r=this.topicfn(i);if(void 0!==r){const t=this.topics.get(r);if(t)try{t.next&&t.next(i)}catch(s){t.error?t.error(s):this.error(s)}}}}function df(e,t){return new ga(e,t)}class ga extends L{constructor(e,t){const[s,r]=F(e)?[e,t]:[void 0,e];super(void 0,x("stream",r)),this.src=s,this._inited=!1}subscribe(...e){const t=super.subscribe.apply(this,e);return this._inited||(this._cancel=this.src&&this.src(this)||(()=>void 0),this._inited=!0),t}unsubscribe(e){const t=super.unsubscribe(e);return!t||e&&(this.subs&&this.subs.length||0===this.closeOut)||this.cancel(),t}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(e){super.error(e),this.cancel()}cancel(){if(this._cancel){u.debug(this.id,"cancel");const e=this._cancel;delete this._cancel,e()}}}const cf=e=>new bf(e);class bf extends L{constructor(e){e=e||{},super(void 0,x("streammerge",e)),this.sources=new Map,e.src&&this.addAll(e.src)}add(e){this.ensureState(),this.sources.set(e,e.subscribe({next:e=>{e instanceof L?this.add(e):this.next(e)},done:()=>this.markDone(e),__owner:this},{id:`in-${e.id}`}))}addAll(e){for(let r of e)this.add(r)}remove(e){const r=this.sources.get(e);return!!r&&(this.sources.delete(e),r.unsubscribe(),!0)}removeID(e){for(let r of this.sources)if(r[0].id===e)return this.remove(r[0]);return!1}removeAll(e){let r=!0;for(let s of e)r=this.remove(s)&&r;return r}removeAllIDs(e){let r=!0;for(let s of e)r=this.removeID(s)&&r;return r}unsubscribe(e){if(!e){for(let e of this.sources.values())e.unsubscribe();this.state=2,this.sources.clear()}return super.unsubscribe(e)}markDone(e){this.remove(e),(1===this.closeIn||2===this.closeIn&&!this.sources.size)&&this.done()}}const af=(e,r)=>(r=x("interval",Object.assign({num:1/0},r)),new ga(t=>{let l=0,$=r.num;t.next(l++);let n=setInterval(()=>{t.next(l++),--$<=0&&(clearInterval(n),0!==t.closeIn&&t.done())},e);return()=>clearInterval(n)},r));const _e=r=>xf()?af(16,r):new ga(r=>{let e=0,$=!0,p=()=>{$&&r.next(e++),$&&(t=requestAnimationFrame(p))},t=requestAnimationFrame(p);return()=>{$=!1,cancelAnimationFrame(t)}},x("raf",r));const $e=(t,e)=>(e=x("atom",Object.assign({emitFirst:!0,changed:(t,e)=>t!==e},e)),new ga(r=>(t.addWatch(r.id,(t,$,o)=>{e.changed($,o)&&r.next(o)}),e.emitFirst&&r.next(t.deref()),()=>t.removeWatch(r.id)),e));const Ze=(e,t,$=!1,r)=>new ga(r=>{let m=e=>r.next(e);return e.addEventListener(t,m,$),()=>e.removeEventListener(t,m,$)},x(`event-${t}`,r));const wc=(e,t,$=!1,r)=>Ze(e,t,$,r);var ta={};const $a=t=>Ga(t)?t:Jb(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const We=r=>ab(r);function ab(r){const t=$a(r);let[e,l,$,n]=t;switch(t.length){case 0:return r=>r;case 1:return r=>null!=r?r[e]:void 0;case 2:return r=>null!=r&&null!=(r=r[e])?r[l]:void 0;case 3:return r=>null!=r&&null!=(r=r[e])&&null!=(r=r[l])?r[$]:void 0;case 4:return r=>null!=r&&null!=(r=r[e])&&null!=(r=r[l])&&null!=(r=r[$])?r[n]:void 0;default:return r=>{const e=t.length-1;let l=r;for(let $=0;null!=l&&$<=e;$++)l=l[t[$]];return l};}}function Cc($){const r=$a($);let[e,t,c,o]=r;switch(r.length){case 0:return($,r)=>r;case 1:return($,r)=>($=n($),$[e]=r,$);case 2:return($,r)=>{let c;return($=n($))[e]=c=n($[e]),c[t]=r,$};case 3:return($,r)=>{let o,T;return($=n($))[e]=o=n($[e]),o[t]=T=n(o[t]),T[c]=r,$};case 4:return($,r)=>{let T,a,j;return($=n($))[e]=T=n($[e]),T[t]=a=n(T[t]),a[c]=j=n(a[c]),j[o]=r,$};default:let $;for(let e=r.length;--e>=0;)$=Ve(r[e],$);return $;}}const n=$=>Ga($)?$.slice():Object.assign({},$),Ve=($,r)=>(e,t)=>(e=n(e),e[$]=r?r(e[$],t):t,e);const Ue=($,e,t,...r)=>Re($,e,t,...r);function Re($,e,t,...r){return Cc(e)($,t.apply(null,(r.unshift(ab(e)($)),r)))}const N=($,t)=>ab(t)($);const Qe=($,t,e)=>Cc(t)($,e);let Me=0;const Le=()=>Me++;class Ke{constructor(t,i,s,e=!0,r=p){this.parent=t,this.id=`view-${Le()}`,this.tx=s||(t=>t),this.path=$a(i),this.isDirty=!0,this.isLazy=e;const h=We(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var Je=ta&&ta.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let $=class{constructor(e,t){t&&!t(e)&&Jc("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(Qe(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(Ue(this._value,e,t,...r))}addWatch(e,t){}removeWatch(e){}notifyWatches(e,t){}addView(e,t,r=!0){return new Ke(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};$=Je([Bf],$),ta.Atom=$,ta.Atom=$;const Ie=(i,t)=>new He(i,t);class He extends L{constructor(i,t){super(void 0,t=x("sidepart",t)),this.buf=[];const e=t.pred||(()=>!0),s=this;this.sideSub=i.subscribe({next(i){s.buf.length&&e(i)&&(s.dispatch(s.buf),s.buf=[])},done(){s.buf.length&&s.dispatch(s.buf),s.done(),delete s.buf}})}unsubscribe(i){const t=super.unsubscribe(i);return i&&this.subs.length||this.sideSub.unsubscribe(),t}next(i){this.state<2&&this.buf.push(i)}done(){this.sideSub.unsubscribe(),super.done()}}const Zc=o=>({next(e){o?console.log(o,e):console.log(e)},done(){o?console.log(o,"done"):console.log("done")},error(e){o?console.log(o,"error",e):console.log("error",e)}});let Pa,Na;let Ge=[],Fe=[];const Ee=$=>Pa&&Pa.length>=$?Pa:Pa=new Int32Array($),id=$=>Na&&Na.length>=$?Na:Na=new Int32Array($),hd=($,e,a,r,t)=>{const c=e.length,l=$.linear;if($.distance=c,0!==t){for(let $=0,a=0;$<c;$++,a+=3)l[a]=r,l[a+1]=$,l[a+2]=e[$];if(3===t){const r=$[a];for(let $=0;$<c;$++)r[$]=e[$]}}return $},Be=($,e,a=3,r=p)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if($===e||null==$&&null==e)return t;if(null==$||0===$.length)return hd(t,e,"adds",1,a);if(null==e||0===e.length)return hd(t,$,"dels",-1,a);const c=$.length>=e.length;let l,n,h,s;c?(l=e,n=$):(l=$,n=e),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,y=h+s+3,A=id(y).fill(-1,0,y),R=Ee(y).fill(-1,0,y),U=Ge,f=Fe;U.length=0,f.length=0;const v=($,e,a)=>{const t=$+d;let c,o;e>a?(c=A[t-1],o=e):(c=A[t+1],o=a);let i=o-$;for(;i<h&&o<s&&r(l[i],n[o]);)i++,o++;return A[t]=f.length/3,f.push(i,o,c),o};let u,P,g=-1;do{for(P=(u=-++g)+d;u<o;u++,P++)R[P]=v(u,R[P-1]+1,R[P+1]);for(P=(u=o+g)+d;u>o;u--,P--)R[P]=v(u,R[P-1]+1,R[P+1]);R[i]=v(o,R[i-1]+1,R[i+1])}while(R[i]!==s);if(t.distance=o+2*g,0!==a){for(g=3*A[i];g>=0;)U.push(g),g=3*f[g+2];3===a?Ae(U,f,t,l,n,c):ye(U,f,t,l,n,c,1===a)}return t};const Ae=($,e,a,r,t,c)=>{const l=a.linear,n=a.const;let h,s,d,o,i=$.length,y=0,A=0;for(c?(h=a.dels,s=a.adds,d=-1,o=1):(h=a.adds,s=a.dels,d=1,o=-1);--i>=0;){const a=$[i],c=e[a],R=e[a+1],U=R-c;for(;y<c||A<R;){const $=A-y;U>$?(l.push(d,A,h[A]=t[A]),A++):U<$?(l.push(o,y,s[y]=r[y]),y++):(l.push(0,y,n[y]=r[y]),y++,A++)}}},ye=($,e,a,r,t,c,l)=>{const n=a.linear,h=c?-1:1,s=c?1:-1;let d=$.length,o=0,i=0;for(;--d>=0;){const a=$[d],c=e[a],y=e[a+1],A=y-c;for(;o<c||i<y;){const $=i-o;A>$?(n.push(h,i,t[i]),i++):A<$?(n.push(s,o,r[o]),o++):(l&&n.push(0,o,r[o]),o++,i++)}}};const xe=(t,e,$=3,d=p)=>t===e?{distance:0}:0===$?we(t,e,d):ve(t,e,d);const we=(t,e,$)=>{t||(t={}),e||(e={});let d=0;for(let i in t){const r=e[i];(void 0===r||!$(t[i],r))&&d++}for(let i in e)!(i in t)&&d++;return{distance:d}},ve=(t,e,$)=>{t||(t={}),e||(e={});let d=0;const i=[],r=[],f=[];for(let s in t){const i=e[s];void 0===i?(r.push(s),d++):$(t[s],i)||(f.push(s,i),d++)}for(let s in e)s in t||(i.push(s),d++);return{distance:d,adds:i,dels:r,edits:f}};const ma=Array.isArray,qe=Math.max,Ab=Object.getPrototypeOf({}),Bb=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),oe=e=>{if(e<=Bb.length)return Bb.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},Db=(e,t,r,$,i,v=0)=>{const o=i[1];if(o.__skip)return;if(!1===o.__diff)return ea($),void t.replaceChild(e,r,v,i);const n=$[1];if(n&&n.__skip)return void t.replaceChild(e,r,v,i,!1);let f=o.__impl;if(f&&f!==t)return f.diffTree(e,f,r,$,i,v);const s=Be($,i,1,da);if(0===s.distance)return;const a=s.linear,O=t.getChild(r,v);let l,I,p,Z;if(0!==a[0]||$[1].key!==o.key)return ea($),void t.replaceChild(e,r,v,i);if((Z=$.__release)&&Z!==i.__release&&ea($),0!==a[3]&&(ie(t,O,$[1],i[1]),2===s.distance))return;const d=a.length,u=$.length-1,c=he(a),x=oe(u+1);for(l=2,I=6;I<d;l++,I+=3)(p=a[I])&&(-1===p?ne(e,t,O,$,i,a,I,c,x,u):le(e,t,O,a,I,c,x,u));(Z=i.__init)&&Z!=$.__init&&Z.apply(i,[O,...i.__args])};const ne=(e,t,r,$,i,v,o,n,f,s)=>{const a=v[o+2];if(ma(a)){let O=a[1].key;if(void 0!==O&&void 0!==n[O][2]){const v=n[O];O=v[0],Db(e,t,r,$[O],i[v[2]],f[O])}else{const e=v[o+1];ea(a),t.removeChild(r,f[e]),ke(f,s,e)}}else"string"==typeof a&&t.setContent(r,"")},le=(e,t,r,$,i,v,o,n)=>{const f=$[i+2];if("string"==typeof f)t.setContent(r,f);else if(ma(f)){const s=f[1].key;if(void 0===s||void 0===v[s][0]){const v=$[i+1];t.createTree(e,r,f,o[v]),je(o,n,v)}}},ke=(e,t,r)=>{for(;t>r;t--)e[t]=qe(e[t]-1,0)},je=(e,t,r)=>{for(;t>=r;t--)e[t]++},ie=(e,t,r,$)=>{const i=xe(r,$,3,p);e.removeAttribs(t,i.dels,r);let v,o,n,f=d;for(v=(n=i.edits).length;(v-=2)>=0;)0===(o=n[v]).indexOf("on")&&e.removeAttribs(t,[o],r),"value"!==o?e.setAttrib(t,o,n[v+1],$):f=n[v+1];for(v=(n=i.adds).length;--v>=0;)"value"!==(o=n[v])?e.setAttrib(t,o,$[o],$):f=$[o];f!==d&&e.setAttrib(t,"value",f,$)};const ea=e=>{if(ma(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)ea(e[t])}};const he=e=>{let t,r,$;const i={};for(let v=e.length;(v-=3)>=0;)r=e[v+2],ma(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[v]+1]=e[v+1]);return i},da=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==Ab||null!=(r=Object.getPrototypeOf(t))&&r!==Ab?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?sb(e,t,da):e instanceof Set&&t instanceof Set?tb(e,t,da):e instanceof Map&&t instanceof Map?wb(e,t,da):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&xb(e,t,da)))};const ge="http://www.w3.org/2000/svg";const fe={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const ee=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const Sf=new RegExp(`[${Object.keys(fe).join("")}]`,"g");const ae={button:1,option:1,text:1,textarea:1};const Rb=e=>e.split(" ").reduce((e,t)=>(e[t]=!0,e),{}),_d=Rb("animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view");const Vf=Rb("area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml");const Xd=$=>{let r,e="";for(let l in $)r=$[l],F(r)&&(r=r($)),null!=r&&(e+=`${l}:${r};`);return e};const Wd=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];cb(e,"deref")&&(r[n]=e.deref())}return r};const sa=Ga,Xb=ec,Yb=(e,t)=>t.__init&&t.__init.apply(t.__this,[e,...t.__args]),ka=(e,t,r,$,n,o=!0)=>{if(sa($)){const s=$[0];if("function"==typeof s)return ka(e,t,r,s.apply(null,[e.ctx,...$.slice(1)]),n);const a=$[1];if(a.__impl)return a.__impl.createTree(e,r,$,n,o);const i=t.createElement(r,s,a,n);if($.length>2){const r=$.length;for(let n=2;n<r;n++)ka(e,t,i,$[n],void 0,o)}return o&&Yb(i,$),i}if(Xb($)){const s=[];for(let a of $)s.push(ka(e,t,r,a,n,o));return s}return null==$?r:t.createTextElement(r,$)};const la=(e,t,r,$,n=0)=>{if(sa($)){const o=t.getChild(r,n);"function"==typeof $[0]&&la(e,t,r,$[0].apply(null,[e.ctx,...$.slice(1)]),n);const s=$[1];if(s.__impl)return s.__impl.hydrateTree(e,r,$,n);Yb(o,$);for(let e in s)0===e.indexOf("on")&&t.setAttrib(o,e,s[e]);for(let r=$.length,n=2;n<r;n++)la(e,t,o,$[n],n-2)}else if(Xb($))for(let o of $)la(e,t,r,o,n),n++};const Vd=(e,t,r,$)=>{const n=_d[t]?document.createElementNS(ge,t):document.createElement(t);return r&&Rd(n,r),bc(e,n,$)};const Ud=(e,t,r)=>bc(e,document.createTextNode(t),r);const bc=(e,t,r)=>e?void 0===r?e.appendChild(t):e.insertBefore(t,e.children[r]):t;const Td=(e,t)=>e.children[t];const dc=(e,t,r,$,n,o=!0)=>(t.removeChild(r,$),t.createTree(e,r,n,$,o));const Sd=(e,t)=>e.textContent=t;const Rd=(e,t)=>{for(let r in t)gc(e,r,t[r],t);return e};const gc=(e,t,r,$)=>{if(t.startsWith("__"))return;const n=0===t.indexOf("on");if(n||"function"!=typeof r||(r=r($)),void 0!==r&&!1!==r)switch(t){case"style":Od(e,r);break;case"value":Qd(e,r);break;case"accesskey":e.accessKey=r;break;case"contenteditable":e.contentEditable=r;break;case"tabindex":e.tabIndex=r;break;case"align":case"autocapitalize":case"checked":case"dir":case"draggable":case"hidden":case"id":case"lang":case"namespaceURI":case"scrollTop":case"scrollLeft":case"title":e[t]=r;break;default:n?Nd(e,t.substr(2),r):e.setAttribute(t,!0===r?"":r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const Qd=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const $=t.length-(r.length-(e.selectionStart||0));e.value=t,e.selectionStart=e.selectionEnd=$;break}default:e.value=t;}};const Pd=(e,t,r)=>{for(let $=t.length;--$>=0;){const n=t[$];0===n.indexOf("on")?Md(e,n.substr(2),r[n]):e.hasAttribute(n)?e.removeAttribute(n):e[n]=null}};const Od=(e,t)=>(e.setAttribute("style",Xd(t)),e);const Nd=(e,t,r)=>sa(r)?e.addEventListener(t,...r):e.addEventListener(t,r);const Md=(e,t,r)=>sa(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r);const Ld=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const Ia=Ga,Kd=ec,Jd=K,Id=(e,r)=>{let $,i,t,n,a,o=e[0],l=Jd(e[1]);return"string"==typeof o&&($=ee.exec(o))||tf(`${o} is not a valid tag name`),o!==(i=$[1])||!l||r&&!e[1].key?(a=l?Object.assign({},e[1]):{},t=$[2],n=$[3],t&&(a.id=t),n&&(n=n.replace(/\./g," "),a.class?a.class+=" "+n:a.class=n),a.__skip&&e.length<3?[i,a]:[i,a,...e.slice(l?2:1)]):e};const rc=(e,r)=>y(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const y=(e,r,$,i,t,n)=>{if(null!=e){if(Ia(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const T=e[0];if("function"==typeof T)return y(T.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof T.render){const o=[$,...e.slice(1)];return a=y(T.render.apply(T,o),r,$,i,t,n),Ia(a)&&(a.__this=T,a.__init=T.init,a.__release=T.release,a.__args=o),a}if(!1===(l=(a=Id(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!ae[e];for(let l=2,T=2,s=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=Ia(e);if(a&&Ia(e[0])||!a&&Kd(e))for(let l of e)void 0!==(l=y(l,r,$,i.concat(s),t,n))&&(o[T++]=l),s++;else void 0!==(e=y(e,r,$,i.concat(s),t,n))&&(o[T++]=e),s++}}return o}return a}return"function"==typeof e?y(e($),r,$,i,t,n):"function"==typeof e.toHiccup?y(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?y(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const tc={createTree(e,r,t,$,l){return ka(e,this,r,t,$,l)},hydrateTree(e,r,t,$){return la(e,this,r,t,$)},diffTree(e,r,t,$,l){Db(e,this,r,t,$,l)},normalizeTree:rc,getElementById:e=>document.getElementById(e),getChild:Td,createElement:Vd,createTextElement:Ud,replaceChild(e,r,t,$,l){dc(e,this,r,t,$,l)},removeChild:Ld,setContent:Sd,removeAttribs:Pd,setAttrib:gc};const Hd=(e,o)=>Jb(e)?o.getElementById(e):e;const Gd=(e={},r=tc)=>{const t=Object.assign({root:"app"},e),$=Hd(t.root,r);return Hb([()=>[],e=>e,(o,p)=>(t.ctx=Wd(e.ctx,t.autoDerefKeys),null!=(p=r.normalizeTree(t,p))?(t.hydrate?(r.hydrateTree(t,$,p),t.hydrate=!1):r.diffTree(t,$,o,p,0),p):o)])};var q={};function xc(r,$,t){return $ in r?Object.defineProperty(r,$,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[$]=t,r}function rb(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function ba(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(e),!0).forEach(function(t){R(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):rb(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function Fd(r,t){return Cd(r)||Dd(r,t)||Ed()}function Ed(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Dd(r,t){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var e=[],n=!0,$=!1,a=void 0;try{for(var o,i=r[Symbol.iterator]();!(n=(o=i.next()).done)&&(e.push(o.value),!t||e.length!==t);n=!0);}catch(c){$=!0,a=c}finally{try{n||null==i.return||i.return()}finally{if($)throw a}}return e}}function Cd(r){if(Array.isArray(r))return r}function R(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Fc(r,t,e,n,$,a,o){try{var i=r[a](o),c=i.value}catch(s){return void e(s)}i.done?t(c):Promise.resolve(c).then(n,$)}function Bd(r){return function(){var t=this,e=arguments;return new Promise(function(n,$){var a=r.apply(t,e);function o(r){Fc(a,n,$,o,i,"next",r)}function i(r){Fc(a,n,$,o,i,"throw",r)}o(void 0)})}}var A={};var Wf,bb={};function D(r){return yd(r)||Oc(r)||zd()}function zd(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function yd(r){if(Array.isArray(r)){for(var $=0,t=new Array(r.length);$<r.length;$++)t[$]=r[$];return t}}function xd(r){return Sc(r)||Oc(r)||Qc()}function Oc(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function Pc(r,$){return Sc(r)||wd(r,$)||Qc()}function Qc(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function wd(r,$){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var t=[],e=!0,a=!1,o=void 0;try{for(var n,i=r[Symbol.iterator]();!(e=(n=i.next()).done)&&(t.push(n.value),!$||t.length!==$);e=!0);}catch(d){a=!0,o=d}finally{try{e||null==i.return||i.return()}finally{if(a)throw o}}return t}}function Sc(r){if(Array.isArray(r))return r}function S(r,$,t){return $ in r?Object.defineProperty(r,$,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[$]=t,r}var vd,ud,td=false;function sd(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function rd(){if(td)return;td=true;vd={};vd=function(r,e,t,a){e=e||"&",t=t||"=";var n={};if("string"!=typeof r||0===r.length)return n;var o=/\+/g;r=r.split(e);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var $=0;$<p;++$){var y,v,c,i,u=r[$].replace(o,"%20"),f=u.indexOf(t);f>=0?(y=u.substr(0,f),v=u.substr(f+1)):(y=u,v=""),c=decodeURIComponent(y),i=decodeURIComponent(v),sd(n,c)?ud(n[c])?n[c].push(i):n[c]=[n[c],i]:n[c]=i}return n};ud=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}}var qd,ia,pd,od,nd=false;function cd(r,n){if(r.map)return r.map(n);for(var e=[],t=0;t<r.length;t++)e.push(n(r[t],t));return e}function md(){if(nd)return;nd=true;qd={};ia=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return"";}};qd=function(r,n,e,t){return n=n||"&",e=e||"=",null===r&&(r=void 0),"object"==typeof r?cd(od(r),function(t){var i=encodeURIComponent(ia(t))+e;return pd(r[t])?cd(r[t],function(r){return i+encodeURIComponent(ia(r))}).join(n):i+encodeURIComponent(ia(r[t]))}).join(n):t?encodeURIComponent(ia(t))+e+encodeURIComponent(ia(r)):""};pd=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};od=Object.keys||function(r){var n=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.push(e);return n}}var ld,kd,V={},Ce=(ld=(rd(),vd),V.parse=ld);V.decode=Ce;var jd=(kd=(md(),qd),V.stringify=kd);V.encode=jd;var Ja,a={};function ed(r,$){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);$&&(e=e.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),i.push.apply(i,e)}return i}function dd(r){for(var $=1;$<arguments.length;$++){var i=null!=arguments[$]?arguments[$]:{};$%2?ed(Object(i),!0).forEach(function($){X(r,$,i[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ed(Object(i)).forEach(function($){Object.defineProperty(r,$,Object.getOwnPropertyDescriptor(i,$))})}return r}function X(r,$,i){return $ in r?Object.defineProperty(r,$,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[$]=i,r}var f="DOM";a.DOM=f;var j="URL";a.URL=j;var M="URL_path";a.URL_path=M;var v="URL_data";a.URL_data=v;var ib="URL_domain";a.URL_domain=ib;var hb="URL_subdomain";a.URL_subdomain=hb;var gb="URL_query";a.URL_query=gb;var fb="URL_hash";a.URL_hash=fb;var Aa="URL_page";a.URL_page=Aa;var Nc="BODY";a.BODY=Nc;var Mc="HEAD";a.HEAD=Mc;var Lc="pre";a.pre=Lc;var Ic="post";a.post=Ic;var _a="prefix";a.prefix=_a;var wa="router";a.router=wa;var h="sub$";a.sub$=h;var g="args";a.args=g;var C="reso";a.reso=C;var B="erro";a.erro=B;var k="handler";a.handler=k;var G="source$";a.source$=G;var H="STATE";a.STATE=H;var I="PATH";a.PATH=I;var Ea="run";a.run=Ea;var lc="state";a.state=lc;var Ka="root";a.root=Ka;var ya="app";a.app=ya;var pb="draft";a.draft=pb;var ob="trace";a.trace=ob;var ua="_ROUTE_PATH";a.ROUTE_PATH=ua;var ca="_ROUTE_LOADING";a.ROUTE_LOADING=ca;var qa="_PAGE_TEMPLATE";a.PAGE_TEMPLATE=qa;var kb="_ROOT";a.ROOT=kb;var _b=(X(Ja={},ua,null),X(Ja,ca,!0),X(Ja,qa,null),X(Ja,kb,null),Ja);a.DEFAULT_CFG=_b;var _=new $(_b);a.$store$=_;var Ub=function(r,$){return _.swapIn(r,function(i){return r.length||K($)?K(i)&&K($)?dd({},i,{},$):$:dd({},i,X({},Object.keys($)[0],$))})};a.set$State=Ub;var w=function(r,$){var t,e=[],a=[],o=[],n=/(?=\?)|(?=#)/g,i=$?r.replace($,"").split(n):r.split(n),d=i[0].split("/").filter(function(r){return""!==r});/http/i.test(r)?(a=d[1].split(".").slice(-2),e=d[1].split(".").slice(0,-2),o=d.slice(2)):o=d;var $rkwc$$interop$default=gd(V);var l=i.filter(function(r){return"?"===r.slice(0,1)})[0]||"",I=i.filter(function(r){return"#"===r.slice(0,1)})[0]||"",c=$rkwc$$interop$default.d.parse(l.slice(1)),u=I.slice(1);return S(t={},j,r),S(t,hb,e),S(t,ib,a),S(t,M,o),S(t,gb,c),S(t,fb,u),t};bb.fURL=w;var Zd=function(r){var $rkwc$$interop$default=gd(V);var $=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=w(r[j]||window.location.href),e=t[hb],a=t[ib],o=t[M],n=t[gb],i=t[fb],d=r.__URL_subdomain,l=void 0===d?e:d,I=r.__URL_domain,c=void 0===I?a:I,u=r.__URL_path,J=void 0===u?o:u,Q=r.__URL_query,_=void 0===Q?n:Q,s=r.__URL_hash,p=void 0===s?i:s,v=Pc(j.split("//"),2),y=v[0],f=xd(Pc(v[1].split("/"),1)[0].split(".")),m=f[0],b=f.slice(1),h=l&&c?[].concat(D(l),D(c)):l&&b.length>1?[].concat(D(l),D(b)):l&&1===b.length?[].concat(D(l),[m],D(b)):[].concat(D(l),[m]),R=$rkwc$$interop$default.d.encode(_),L="".concat(J.length>0?"/"+J.join("/"):"").concat(p?"#"+p:null,"?").concat(R);return $?"".concat(y,"//").concat(h.join(".")).concat(L):L};bb.unFURL=Zd;var Uf,Sb={};var Qb=function(t){return F(t)&&0===t.length?"THUNK":F(t)&&t.length>0?"FUNCTION":mc(t)?"PROMISE":Fa(t)?"OBJECT":"type_str NOT FOUND"};Sb.stringify_type=Qb;var Tf,Pb={};var de=function(r,o){return o.subscribeTopic?o.subscribeTopic("_TRACE_STREAM",{next:function(o){return console.log(r,o)},error:console.warn}):o.subscribe(Zc(r))};Pb.trace$=de;var ra={};function Nb(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function Mb(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Nb(Object(r),!0).forEach(function(n){Kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kb(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var Xa=function(e,n){return JSON.stringify(e,function(e,n){return"function"==typeof n?n.toString().replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ").slice(0,12)+"...":n},n)};ra.stringify_w_functions=Xa;var Wa=function(e,n){var r=Array.from(Array(19).keys()).reduce(function(e,n){return Mb({},e,Kb({},n,"".concat(n+1,"th")))},{}),t=Mb({},r,{0:"1st",1:"2nd",2:"3rd"}),o=t[n];return"\uD83D\uDD0D it was the ".concat(o," Command in a Task or ").concat(t[n-1]," in a Subtask.")};ra.key_index_err=Wa;var Va=function(e,n,r,t,o){var a=n.source$,c=Object.entries(n).length;return"\n\n  \uD83D\uDD25 ".concat(e," ERROR:\n  \n  \uD83D\uDD25 Unrecognized Command Key(s)\n  \n  FAULTY sub$: \"").concat(t,"\" \n  ").concat(Object.keys(r)[0][0]?"\n  ".concat(o?Wa(n,o):"","\n\n  The problematic entry/entries: \n\n  \uD83E\uDD14 ").concat(!o&&c>3&&!a?"".concat(Object.entries(r)[0][0],": <Stream>"):Xa(r,2)):""," \uD83E\uDD14\n\n  ACCEPTABLE ENTRY KEYS ").concat(o?"WITHIN A COMMAND":"DURING REGISTRATION",": \n\n  'sub$' \n    - optional \n    - topic key for for registering & targeting Commands \n    - signatures:\n      - \"X\"    : String: Topic key\n      - XX$    : Stream: for dispatching args to custom stream\n\n  'args' \n    - required \n    - payload or accumulator reshaping payload function (Promises OK)\n    - signatures:\n      - PRI    : primitive: static payload -> is NOT accumulated\n      - {?}    : object: static payload -> is accumulated \n      - (+) => : function (non-nullary): dispatch payload from \n                values accumulated from prior Command payloads\n      - (0) => : thunk (nullary): dispatch to custom stream\n      - {P}    : Promise or (#) => {P} Promise returning function\n      \n  'reso' \n    - required for Promise handling \n    - converts resolved Promise payloads to Command args\n    - signature:\n      - ({A: accumulator}, {P: resolved Promise}) =>  \n\n  'erro' \n    - recommended for Promise rejections \n    - handles rejected Promise payloads\n    - signature:\n      - ({A: accumulator}, {E: error object}) =>  \n  ").concat(o?"":"\n  'handler' \n    - required \n    - function that is called on payload's arrival\n    - signature: \n      - (#) => : function instruments actual side-effects/work \n  \n  'source$' \n    - advanced/optional \n    - source stream (see http://thi.ng/rstream)","\n\n  Hope that helps!\n  ")};ra.x_key_ERR=Va;var Fb={};var me={el:null,init:function(r){this.el=r},isorender:function(){for(var r=this.el,e=r.parentElement.children,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(var $=e.length;--$>=0;)if(e[$]===r)return void dc({},tc,this.el.parentElement,$,rc({},[this].concat(i)),!0)}};Fb.insulated=me;var Eb={};function Cb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function pe(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Cb(Object(t),!0).forEach(function(e){zb(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Cb(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function zb(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function re(r,e){return ue(r)||te(r,e)||se()}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function te(r,e){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,$=r[Symbol.iterator]();!(n=(a=$.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==$.return||$.return()}finally{if(o)throw i}}return t}}function ue(r){if(Array.isArray(r))return r}var na=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[Object.keys(e).filter(function(e){return!r.includes(e)}),Object.entries(e).reduce(function(e,t){var n=re(t,2),o=n[0],i=n[1];return r.includes(o)?e:pe({},e,zb({},o,i))},{})]};Eb.keys_diff=na;m(A,bb),m(A,Sb),m(A,Pb),m(A,ra),m(A,Fb),m(A,Eb);var oa="Spool Interupted",vb=function(r,t){return console.warn("\n  \uD83D\uDD25 No sub$ included for a Command with a primitive for 'args'. \n  \uD83D\uDD25 Ergo, nothing was done with this Command: \n  \n  ".concat(JSON.stringify(r),"\n  \n  ").concat(Wa(r,t),"\n  \n  Hope that helps!\n  "))},ub=function(r){return r.reduce(function(){var r=Bd(regeneratorRuntime.mark(function r(t,e,n){var $,a,o,i,c,s,u,p,b,N,f,z,l,v,m,y,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:if(a=r.sent,!F(e)){r.next=14;break}return r.prev=4,(o=e(a)).unshift(R({},g,a)),r.abrupt("return",ub(o));case 10:return r.prev=10,r.t0=r.catch(4),console.warn(oa,r.t0),r.abrupt("return");case 14:if(i=e[h],c=e[g],s=e[B],u=e[C],p=[h,g,C,B,G,k],b=na(p,e),N=Fd(b,1),!((f=N[0]).length>0)){r.next=22;break}throw new Error(Va(oa,e,f,i,n));case 22:if(z=Qb(c),l=c,"PROMISE"!==z&&u&&(l=Promise.resolve(c)),c===Object(c)||i){r.next=28;break}return vb(e,n),r.abrupt("return",a);case 28:if("PROMISE"!==z){r.next=32;break}return r.next=31,c.catch(function(r){return r});case 31:l=r.sent;case 32:if("THUNK"!==z){r.next=37;break}return l=c(),console.log("dispatching to ad-hoc stream: ".concat(i.id)),i.next(l),r.abrupt("return",a);case 37:if("FUNCTION"!==z){r.next=47;break}if(v=c(a),!mc(v)){r.next=45;break}return r.next=42,v.catch(function(r){return r});case 42:r.t1=r.sent,r.next=46;break;case 45:r.t1=v;case 46:l=r.t1;case 47:if("OBJECT"!==z){r.next=52;break}if(i){r.next=50;break}return r.abrupt("return",ba({},a,{},c));case 50:return J.next(e),r.abrupt("return",ba({},a,{},c));case 52:if(!u){r.next=69;break}if(!(s&l instanceof Error)){r.next=59;break}if(!(m=B(a,l))._sub$){r.next=57;break}return r.abrupt("return",J.next(m));case 57:console.warn(oa,"[ Promise rejected ]:",l),l=m;case 59:if(l instanceof Error){r.next=68;break}if(!(y=u(a,l))._sub$){r.next=65;break}J.next(y),r.next=67;break;case 65:if(i){r.next=67;break}return r.abrupt("return",ba({},a,{},y));case 67:l=y;case 68:console.warn("no 'erro' (Error handler) set for ".concat(e));case 69:if(u||i){r.next=71;break}return r.abrupt("return",ba({},a,{},l));case 71:if(!(l instanceof Error)){r.next=74;break}return console.warn(oa,l),r.abrupt("return",a);case 74:if(l===Object(l)){r.next=80;break}if(i){r.next=78;break}return vb(e,n),r.abrupt("return",a);case 78:return J.next((R(d={},h,i),R(d,g,l),d)),r.abrupt("return",a);case 80:return J.next((R($={},h,i),R($,g,l),$)),r.abrupt("return",ba({},a,{},l));case 82:case"end":return r.stop();}},r,null,[[4,10]])}));return function(t,e,n){return r.apply(this,arguments)}}(),Promise.resolve({}))};var ze=df().subscribe(Zc("log$ -> "),{id:"log$"});q.log$=ze;var U=jc({topic:function(r){return!!r.sub$},id:"run$_stream",equiv:function(r,$){return r===$||"_TRACE_STREAM"===$}});q.run$=U;var Qa=jc({topic:function(r){return r.sub$},id:"out$_stream",equiv:function(r,$){return r===$||"_TRACE_STREAM"===$}});q.out$=Qa;var J=U.subscribeTopic(!0,{next:function(r){return Qa.next(r)},error:console.warn},{id:"command$_stream"});q.command$=J;var De=U.subscribeTopic(!1,{next:ub,error:console.warn},{id:"task$_stream"});q.task$=De;var fd=wc(window,"popstate");q.popstate$=fd;var bd=wc(window,"DOMContentLoaded");q.DOMContentLoaded$=bd;var pa=cf({src:[fd,bd]}).transform(z(function(r){var $;return xc($={},j,r.target.location.href),xc($,f,r.currentTarget),$}));q.DOMnavigated$=pa;var Yc={};var La={};function Vc(r,$){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);$&&(t=t.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),e.push.apply(e,t)}return e}function P(r){for(var $=1;$<arguments.length;$++){var e=null!=arguments[$]?arguments[$]:{};$%2?Vc(Object(e),!0).forEach(function($){c(r,$,e[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Vc(Object(e)).forEach(function($){Object.defineProperty(r,$,Object.getOwnPropertyDescriptor(e,$))})}return r}function c(r,$,e){return $ in r?Object.defineProperty(r,$,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[$]=e,r}function Rc(r){return Pe(r)||Oe(r)||Ne()}function Ne(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Oe(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function Pe(r){if(Array.isArray(r)){for(var $=0,e=new Array(r.length);$<r.length;$++)e[$]=r[$];return e}}var lb=function(r){var $,e,t,o;if(Fa(r)){var s=r[wa],A=r[Lc],i=r[Ic],a=r[_a]||null,n=/[-\/\\^$*+?.()|[\]{}]/g,p=a?new RegExp(a.replace(n,"\\$&"),"g"):null;$=s,e=Fa(A)?[A]:A||[],t=Fa(i)?[i]:i||[],o=p}else $=r,e=[],t=[],o=null;return function(r){var s;return[].concat(Rc(e),[(s={},c(s,g,$(o?r[j].replace(o,""):r[j])),c(s,C,function(r,$){var e;return c(e={},Aa,$[Aa]),c(e,v,$[v]),e}),c(s,B,function(r,$){return console.warn("Error in __URL__ROUTE:",$,"constructed:",r)}),s),c({},g,o?w(r[j],o):w(r[j])),P({},aa,{args:function(r){var $;return c($={},H,r[M]),c($,I,[ua]),$}})],Rc(t))}};La.__URL__ROUTE=lb;var Hc=function(r){var $=lb(r);return function(r){var e,t;return[P({},aa,{args:(e={},c(e,I,[ca]),c(e,H,!0),e)}),P({},Ib,{args:(t={},c(t,j,r[j]),c(t,f,r[f]),t)}),function(r){return $(c({},j,r[j]))},P({},aa,{args:function(r){var $;return c($={},I,[qa]),c($,H,r[Aa]),$}}),P({},aa,{args:function(r){var $;return c($={},I,r[M]),c($,H,r[v][Nc]||r[v]),$}}),Wb,P({},aa,{args:function(r){var $;return c($={},I,[ca]),c($,H,!1),$}}),$c]}};La.__URL_DOM__ROUTE=Hc;m(Yc,La);var Se="registerCMD",Te=function(r){var $,e,i=r[h],t=r[g],o=F(t),n=(b($={},h,i),b($,g,t),$);return r[G].subscribe((e=J,o?z(function(r){return e.next(function(r){var $;return b($={},h,i),b($,g,t(r)),$}(r))}):z(function(){return e.next(n)})))},fa=new W;function l(r){var $,e,i=r[h],t=r[g],o=r[B],n=r[C],a=r[G],p=r[k],x=[h,g,C,B,G,k],Y=Tc(na(x,r),1)[0];if(Y.length>0)throw new Error(Va(Se,r,Y,i,void 0));a&&Te(r),Qa.subscribeTopic(i,{next:p,error:console.warn},z(function(r){return r[g]}));var s=n?(b($={},h,i),b($,g,t),b($,C,n),b($,B,o),$):(b(e={},h,i),b(e,g,t),e);if(fa.set){if(fa.has(i))throw new Error("\n\n\uD83D\uDD25 duplicate `sub$` value detected in Command:\n".concat(Xa(s),"\nexisting registered Commands:\n").concat(JSON.stringify(be(fa.keys()),null,2),"\n\uD83D\uDD25 Please use a different/unique Command `sub$` string\n\n\uD83D\uDD0E Inspect existing Commands using js Map API `registerCMD.all`\n\uD83D\uDD0E (`registerCMD.all.entries()`, `registerCMD.all.has(\"X\")`, etc.)\n\n        "));fa.set(i,s)}return s}ja.registerCMD=l,l.all=fa;var Ac=function(r){var $;console.log("DOM Router Registered");var e=Hc(r);return l((b($={},G,pa),b($,h,"_URL_NAVIGATED$_DOM"),b($,g,function(r){return r}),b($,k,function(r){var $;return U.next(e((b($={},j,r[j]),b($,f,r[f]),$)))}),$))};ja.registerRouterDOM=Ac;var Xe=function(r){var $;console.log("Router Registered");var e=lb(r);return l((b($={},h,"_URL_NAVIGATED$"),b($,G,pa),b($,g,function(r){return r}),b($,k,function(r){var $;return U.next(e((b($={},j,r[j]),b($,f,r[f]),$)))}),$))};ja.registerRouter=Xe;var Ye=function(r,$){return console.log("no `app` component provided to `".concat(vc.name,"({").concat(ya,"})`. Rendering state by route path")),["pre",JSON.stringify($[1],null,2)]},vc=function(){var r=$d(regeneratorRuntime.mark(function r($){var e,i,t,o,n,a,p,x,Y,s,u,c,m,f,v,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=$[Ka]||document.body,t=$[ya]||Ye,o=$[pb],n=$[wa],a=$[ob],p=[Ka,ya,pb,wa,ob],x=na(p,$),Y=Tc(x,2),s=Y[1],u=/[-\/\\^$*+?.()|[\]{}]/g,c=function(r){return r.replace(u,"\\$&")},m=n[_a]||null,f=m?new RegExp(c(m||""),"g"):null,n&&Ac(n),v=$e(_),l=function(r){return a&&console.log(a,r),r[ca]?null:[t,[r[qa],N(r,r[ua])]]},o&&_.swap(function(r){return Kc({},o,{},r)}),_.resetIn(kb,i),v.subscribe(Ie(_e())).transform(z(yb),z(l),Gd({root:i,span:!1,ctx:Kc((e={},b(e,Ea,function(r){return U.next(r)}),b(e,lc,_),b(e,w.name,function(){return w(window.location.href,f)}),e),s)}));case 17:case"end":return r.stop();}},r)}));return function($){return r.apply(this,arguments)}}();ja.boot=vc;var Ya,Ua,Ta,Sa,Z={};function e($,t,r){return t in $?Object.defineProperty($,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):$[t]=r,$}var kc=function($){var t=$.target.href,r=window.location.href,e=w(r),i="/".concat(e[M].join("/"));if(t!==r&&t!==i)return pa.next({target:{location:{href:t}},currentTarget:$.currentTarget}),$};Z.HURLer=kc;var Zb=l((e(Ya={},h,"HURL"),e(Ya,g,function($){return $}),e(Ya,k,kc),Ya));Z.HURL=Zb;var gf=function($){document.body.querySelectorAll("a[visited]").forEach(function($){$.href===window.location.href?$.setAttribute("active",""):$.removeAttribute("active")}),$.setAttribute&&($.setAttribute("visited",""),$.setAttribute("active",""))},Wb=l((e(Ua={},h,"__SET_LINK_ATTRS_DOM"),e(Ua,g,function($){return e({},f,$[f])}),e(Ua,k,function($){return gf($[f])}),Ua));Z.__SET_LINK_ATTRS_DOM=Wb;var Ib=l((e(Ta={},h,"__HREF_PUSHSTATE_DOM"),e(Ta,g,function($){var t;return e(t={},j,$[j]),e(t,f,$[f]),t}),e(Ta,k,function($){return $[f].document?null:history.pushState(w($[j]),null,$[j])}),Ta));Z.__HREF_PUSHSTATE_DOM=Ib;var $c=l((e(Sa={},h,"__NOTIFY_PRERENDER_DOM"),e(Sa,g,!0),e(Sa,k,function(){return document.dispatchEvent(new Event("rendered"))}),Sa));Z.__NOTIFY_PRERENDER_DOM=$c;var Oa,ha={};function za(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gc(e,t){return rf(e)||qf(e,t)||pf()}function pf(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function qf(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],o=!0,$=!1,a=void 0;try{for(var i,n=e[Symbol.iterator]();!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(c){$=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if($)throw a}}return r}}function rf(e){if(Array.isArray(e))return e}var Dc=function(e){var t=document.querySelector("link[rel*='icon']")||document.createElement("link");t.type="image/x-icon",t.rel="shortcut icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)};ha.setFavicon=Dc;var Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;Object.entries(e).forEach(function(e){var t=Gc(e,2),r=t[0],o=t[1];try{return{HEAD_title:function(){document.title=o},HEAD_meta:function(){Object.entries(o).forEach(function(e){var t=Gc(e,2),r=t[0],o=t[1];document.head.querySelector("meta[property=\"".concat(r,"\"]")).content=o})},HEAD_favicon:function(){return Dc(o)}}[r]()}catch($){console.warn($)}})};ha.replaceMeta=Bc;var s={meta:{"og:title":"My thi.ng","og:image":"https://github.com/loganpowell/ac/raw/master/assets/thing400x400.png","og:image:width":400,"og:image:height":400,"og:description":"web app","og:type":"website"},title:"My thi.ng",favicon:"https://github.com/loganpowell/ac/raw/master/assets/favicon.ico"},qc=function(e){var t=e.title,r=void 0===t?s.meta.title:t,o=e.description,$=void 0===o?s.meta["og:description"]:o,a=e.image,i=a.url,n=void 0===i?s.meta["og:image"]:i,c=a.height,l=void 0===c?s.meta["og:image:height"]:c,g=a.width,p=void 0===g?s.meta["og:image:width"]:g,v=e.favicon,P=void 0===v?s.favicon:v,f=e.type;return{HEAD_meta:{"og:title":r,"og:type":void 0===f?s.meta["og:type"]:f,"og:description":$,"og:image:width":p,"og:image:height":l,"og:image":n},HEAD_title:r,HEAD_favicon:P}};ha.HEAD_CMD=qc;var wf=l((za(Oa={},h,"INJECT_HEAD"),za(Oa,g,function(e){return za({},v,e[v])}),za(Oa,k,function(e){var t=e[v][Mc],r=t.title,o=t.description,$=t.image,a=t.favicon,i=t.type;return Bc(qc({title:r,description:o,image:$,favicon:a,type:i}))}),Oa));ha.INJECT_HEAD=wf;var nb,jb,t={};function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y(t,e){var r=t.getBoundingClientRect(),$=r.top,o=r.bottom,n=r.left,i=r.right,a=r.width,s=r.height,l=e?e.getBoundingClientRect():null;return{top:$-(l?l.top:0),bottom:o,left:n-(l?l.left:0),right:i,width:a,height:s}}t.getRect=Y;var Cf=function(t){return{rects:["_FLIP_shuffle","rects",t],elems:["_FLIP_shuffle","elems",t]}},Df=function(t,e,r){var $=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Cf(r).rects;if(!N(e.deref(),o))return e.resetIn(o,Y(t,$));var n=N(e.deref(),o),i=Y(t,$),a=n.left-i.left,s=n.top-i.top,l=n.width/i.width,y=n.height/i.height;t.style.transformOrigin="0 0",t.style.transition="";var c="translate(".concat(a,"px, ").concat(s,"px) scale(").concat(l,", ").concat(y,")");t.style.transform=c,e.resetIn(o,i),requestAnimationFrame(function(){t.style.transition="all .4s cubic-bezier(.54,-0.29,.17,1.11)",t.style.transform="none"})};t.FLIP_all=Df;var yc=function(t){return{rects:["_FLIP_zoom","rects",t],elems:["_FLIP_zoom","elems",t],clicks:["_FLIP_zoom","clicks",t],scrolls:["_FLIP_zoom","scroll",t]}},sc=function(t){var e=t.state,r=t.id,$=t.target,o=yc(r),n=o.rects,i=o.clicks,a=o.scrolls,s=Y($);e.resetIn(n,s),e.resetIn(i,!0),e.resetIn(a,{y:window.scrollY,x:window.scrollX})};t.FLIP_first=sc;var oc=function(t,e){return t.style.zIndex=e},fc=function(t){var e=t.element,r=t.state,$=t.id,o=t.transition,n=void 0===o?"all .3s cubic-bezier(.54,-0.29,.17,1.11)":o;e.setAttribute("flip",$);var i=yc($),a=i.rects,s=i.clicks,l=i.scrolls,y=N(r.deref(),a)||null;if(y){var c=Y(e);Math.abs(y.top-c.top)>window.innerHeight&&(e.scrollIntoView(),c=Y(e));var p=y.left-c.left,A=y.top-c.top,B=y.width/c.width,_=y.height/c.height,f=N(r.deref(),l),u=f.x,v=f.y;window.scrollTo(u,v),e.style.transformOrigin="top left",e.style.transition="";var g="translate(".concat(p,"px, ").concat(A,"px) scale(").concat(B,", ").concat(_,")");e.style.transform=g,requestAnimationFrame(function(){window.scrollTo(u,v),e.style.transition=n,e.style.transform="none",setTimeout(function(){return oc(e,0)},200)}),oc(e,1),N(r.deref(),s)||null?r.resetIn(a,c):r.resetIn(a,null),r.resetIn(s,null)}};t.FLIP_last_invert_play=fc;var cc=new $({}),ac=l((O(nb={},h,"_F_LIP"),O(nb,g,function(t){return t}),O(nb,k,function(t){var e=t.id,r=t.target;return sc({id:e,target:r,state:cc})}),nb));t._F_LIP=ac;var Tb=l((O(jb={},h,"F_LIP_"),O(jb,g,function(t){return t}),O(jb,k,function(t){var e=t.id,r=t.element;return fc({id:e,element:r,state:cc})}),jb));t.F_LIP_=Tb;var eb,Xc={};function db(r,$,t){return $ in r?Object.defineProperty(r,$,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[$]=t,r}var aa=l((db(eb={},h,"__SET_STATE"),db(eb,g,function(r){return r}),db(eb,k,function(r){return Ub(r[I],r[H])}),eb));Xc.__SET_STATE=aa;m(T,Z),m(T,ha),m(T,t),m(T,Xc);var Pf=function(r){return new Promise(function(e){return setTimeout(e,r)})};T.msTaskDelay=Pf;var zc={};function ic(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,i)}return t}function Ma(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ic(Object(t),!0).forEach(function(e){Ha(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ic(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function Ha(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Yd=function(r){return"\n  No '".concat(r,"' property found on FLIPkid firstChild. \n  Ensure you are providing FLIPkid a component with an \n  attributes object as its second argument with a ").concat(r,"\n  property for proper FLIP routing.\n")},Ad=function(r){return{currentTarget:{document:null},target:{href:r}}},Rf=Object.freeze({render:function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return["div",{onclick:function(e){e.preventDefault();var t=e.target,i=t.getAttribute("href");if(!i)return new Error(Yd("href"));r[Ea]([Ma({},Zb,Ha({},g,Ad(i))),Ma({},ac,Ha({},g,{id:i,target:t}))])}}].concat(t)},init:function(r,e){console.log("FLIPkid_init"),e[Ea](Ma({},Tb,Ha({},g,{element:r.firstChild,id:r.firstChild.getAttribute("href")})))}});zc.FLIPkid=Rf;r.store=a,r.components=zc,r.streams=q,r.register=ja,r.utils=A,r.tasks=Yc,r.commands=T;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=r}else if(typeof define==="function"&&define.amd){define(function(){return r})}})();